<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TV</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: black;
            color: white;
            text-align: center;
        }

        .navbar {
            background-color: #222;
            padding: 10px 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        .navbar a {
            color: white;
            text-decoration: none;
            padding: 10px 15px;
            margin: 5px;
            font-size: 16px;
            transition: 0.3s;
            border: 1px solid white;
            border-radius: 5px;
        }

        .navbar a:hover {
            background-color: #444;
        }

        .navbar a.active {
            background-color: #666;
        }

        .video-container {
            width: 90%;
            max-width: 1200px;
            height: 80vh;
            margin: 20px auto;
            position: relative;
        }

        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>

    <!-- Google Cast SDK -->
    <script src="https://www.gstatic.com/cv/js/sender/v1/cast_sender.js?load=receiver"></script>

    <script>
        // Chromecast initialization
        let castSession = null;
        let player = null;

        function initializeCast() {
            cast.framework.CastContext.getInstance().setOptions({
                receiverApplicationId: chrome.cast.media.DEFAULT_MEDIA_RECEIVER_APP_ID,
                autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED
            });

            cast.framework.CastContext.getInstance().addEventListener(cast.framework.CastContextEventType.SESSION_STARTED, (event) => {
                castSession = event.session;
            });
        }

        function changeStream(videoUrl, element) {
            document.getElementById("livestream").src = videoUrl;

            // Remove 'active' class from all links
            let links = document.querySelectorAll('.navbar a');
            links.forEach(link => link.classList.remove('active'));

            // Add 'active' class to clicked link
            element.classList.add('active');
        }

        // Function to cast the stream to Chromecast
        function castStream(videoUrl) {
            if (castSession) {
                const mediaInfo = new chrome.cast.media.MediaInfo(videoUrl, 'application/x-mpegURL');
                const request = new chrome.cast.media.LoadRequest(mediaInfo);

                castSession.loadMedia(request, (mediaStatus) => {
                    console.log('Stream loaded on Chromecast:', mediaStatus);
                }, (error) => {
                    console.error('Error loading media:', error);
                });
            } else {
                alert("No Chromecast device connected");
            }
        }

        // Toggle Fullscreen
        function toggleFullscreen() {
            const iframe = document.getElementById("livestream");
            if (iframe.requestFullscreen) {
                iframe.requestFullscreen();
            } else if (iframe.mozRequestFullScreen) { // Firefox
                iframe.mozRequestFullScreen();
            } else if (iframe.webkitRequestFullscreen) { // Chrome, Safari
                iframe.webkitRequestFullscreen();
            } else if (iframe.msRequestFullscreen) { // IE/Edge
                iframe.msRequestFullscreen();
            }
        }

        window.onload = function() {
            initializeCast();
        };
    </script>
</head>
<body>

    <div class="navbar">
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-801.php', this)" class="active">DR1</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-802.php', this)">DR2</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-817.php', this)">TV2</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-818.php', this)">TV2 Echo</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-810.php', this)">TV2 Sport</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-808.php', this)">TV2 Sport X</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-819.php', this)">TV3+</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-223.php', this)">TV3 Max</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-809.php', this)">TV3 Sport</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-803.php', this)">Kanal 4</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-804.php', this)">Kanal 5</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-800.php', this)">6'eren</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-805.php', this)">Kanal 9</a>
        <a href="#" onclick="changeStream('https://thedaddy.to/embed/stream-806.php', this)">MTV</a>
    </div>

    <div class="video-container">
        <iframe id="livestream" src="https://thedaddy.to/embed/stream-801.php" allowfullscreen allow="autoplay; fullscreen" scrolling="no"></iframe>
    </div>

    <!-- Chromecast and Fullscreen Controls -->
    <div>
        <button onclick="toggleFullscreen()">Fullscreen</button>
	<div style="height: 0; border-top: 10px solid transparent;"></div>
	<button onclick="castStream('https://dokko1new.koskoros.ru/dokko1/premium801/mono.m3u8')">Cast to Chromecast</button>
        
    </div>

</body>
</html>
